(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const s="favorite-facts";function l(){try{return JSON.parse(localStorage.getItem(s)||"[]")}catch{return localStorage.removeItem(s),[]}}function m(e){const t=l();t.includes(e)||(t.push(e),localStorage.setItem(s,JSON.stringify(t)))}function g(e){const t=l().filter(r=>r!==e);localStorage.setItem(s,JSON.stringify(t))}function v(){const e=l(),t=e.filter(r=>typeof r=="string"&&r.trim()!=="");t.length!==e.length&&localStorage.setItem(s,JSON.stringify(t))}const h=e=>{const t=document.querySelector("#single-fact");t.textContent=`${e}`};function S(e){const t=document.querySelector("#fact-list");e.data.forEach(r=>{const c=document.createElement("li");c.dataset.id="fact",c.textContent=r,c.addEventListener("click",()=>{m(r),u(),c.style.borderColor="var(--calico_orange)"}),t.appendChild(c)})}function w(e){const t=document.createElement("li");t.textContent=e;const r=document.createElement("button");return r.textContent="Remove",r.addEventListener("click",()=>{g(e),u()}),t.appendChild(r),t}function u(){const e=document.querySelector("#favorite-facts");e.innerHTML="";const t=l();document.querySelectorAll("#fact-list li").forEach(o=>{const n=t.includes(o.textContent.trim());o.style.borderColor=n?"var(--calico_orange)":""});const r=document.querySelector("#single-fact"),c=t.includes(r.textContent.trim());r.style.color=c?"var(--calico_orange)":"",t.forEach(o=>{e.appendChild(w(o))})}const E=async()=>{try{const e=await fetch("https://meowfacts.herokuapp.com/");if(!e.ok)throw Error("Failed to fetch fact.");return{data:(await e.json()).data[0],error:null}}catch(e){return console.warn(e),{data:null,error:e}}};async function C(e){try{const t=await fetch(`https://meowfacts.herokuapp.com/?count=${e}`);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return{data:(await t.json()).data,error:null}}catch(t){console.warn("Failed to fetch collection:",t)}}const y=document.querySelector("#error-message"),F=document.querySelector("#single-fact-button"),a=document.querySelector("#single-fact"),f=document.querySelector("#generate-form"),L=new Audio("singlemeow.mp3"),q=new Audio("multiplemeow.mp3"),O=new Audio("favoritemeow.mp3"),b=document.querySelector("#mute-button");let i=!1;b.addEventListener("click",()=>{i=!i});a.addEventListener("click",()=>{const e=a.textContent.trim();e&&(i===!1&&O.play(),m(e),u(),a.style.color="var(--calico_orange)")});const p=async()=>{const e=await E();if(e.error){y.textContent=`Error: ${e}`;return}h(e.data),a.style.color=""};p();F.addEventListener("click",()=>{document.querySelector("#fact-list").style.display="none",a.style.display="grid",i===!1&&L.play(),p()});async function x(e){const t=await C(e);if(t.error){y.textContent=`Error: ${factObj}`;return}S(t)}f.addEventListener("submit",e=>{e.preventDefault();const t=document.querySelector("#fact-count").value;a.style.display="none",document.querySelector("#fact-list").style.display="grid",i===!1&&q.play(),x(t),f.reset()});v();u();
