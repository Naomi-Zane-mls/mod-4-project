(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const s="favorite-facts";function u(){try{return JSON.parse(localStorage.getItem(s)||"[]")}catch{return localStorage.removeItem(s),[]}}function f(t){const e=u();e.includes(t)||(e.push(t),localStorage.setItem(s,JSON.stringify(e)))}function g(t){const e=u().filter(o=>o!==t);localStorage.setItem(s,JSON.stringify(e))}const p=t=>{const e=document.querySelector("#single-fact");e.textContent=`${t}`};function v(t){const e=document.querySelector("#fact-list");t.data.forEach(o=>{const c=document.createElement("li");c.dataset.id="fact",c.textContent=o,c.addEventListener("click",()=>{f(o),i(),c.style.borderColor="var(--calico_orange)"}),e.appendChild(c)})}function h(t){const e=document.createElement("li");e.textContent=t;const o=document.createElement("button");return o.textContent="Remove",o.addEventListener("click",()=>{g(t),i()}),e.appendChild(o),e}function i(){const t=document.querySelector("#favorite-facts");t.innerHTML="";const e=u();document.querySelectorAll("#fact-list li").forEach(r=>{const n=e.includes(r.textContent.trim());r.style.borderColor=n?"var(--calico_orange)":""});const o=document.querySelector("#single-fact"),c=e.includes(o.textContent.trim());o.style.color=c?"var(--calico_orange)":"",e.forEach(r=>{t.appendChild(h(r))})}const S=async()=>{try{const t=await fetch("https://meowfacts.herokuapp.com/");if(!t.ok)throw Error("Failed to fetch fact.");return{data:(await t.json()).data[0],error:null}}catch(t){return console.warn(t),{data:null,error:t}}};async function E(t){try{const e=await fetch(`https://meowfacts.herokuapp.com/?count=${t}`);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return{data:(await e.json()).data,error:null}}catch(e){console.warn("Failed to fetch collection:",e)}}const m=document.querySelector("#error-message"),C=document.querySelector("#single-fact-button"),a=document.querySelector("#single-fact"),d=document.querySelector("#generate-form");a.addEventListener("click",()=>{const t=a.textContent.trim();t&&(f(t),i(),a.style.color="var(--calico_orange)")});const y=async()=>{const t=await S();if(t.error){m.textContent=`Error: ${t}`;return}console.log(t),p(t.data),a.style.color=""};y();C.addEventListener("click",()=>{document.querySelector("#fact-list").style.display="none",a.style.display="grid",y()});async function F(t){const e=await E(t);if(e.error){m.textContent=`Error: ${factObj}`;return}v(e)}d.addEventListener("submit",t=>{t.preventDefault();const e=document.querySelector("#fact-count").value;a.style.display="none",document.querySelector("#fact-list").style.display="grid",F(e),d.reset()});i();clearStaleFavorites();
